import{Aa as u,La as h,Qa as f,ga as s,ha as o,ia as a,la as r,pa as c,va as g,wa as m,xa as p,ya as d,za as l}from"./chunk-BE7D3IID.js";var y=class i{constructor(e){this.socketService=e}ngOnInit(){this.socketService.onCommandReceived(e=>{console.log(e),e==="play"?this.playSound():e==="next"&&this.nextImage()})}images=["assets/images/cow.jpg","assets/images/tiger.jpg","assets/images/sheep.jpg","assets/images/monkey.jpg","assets/images/flamingo.jpg"];sounds=["assets/sounds/cow.mp3","assets/sounds/tiger-sound.mp3","assets/sounds/sheep.mp3","assets/sounds/monkey.mp3","assets/sounds/flamingo.mp3"];audio=new Audio;currentIndex=0;transitioning=!1;handleKey(e){e.code==="Space"?(this.playSound(),e.preventDefault()):e.code==="ArrowRight"&&this.nextImage()}playSound(){this.audio.pause(),this.audio.src="",this.audio.src=this.sounds[this.currentIndex],this.audio.load(),this.audio.play()}nextImage(){this.currentIndex=this.currentIndex+1,this.currentIndex===this.images.length&&(this.currentIndex=0)}get currentImage(){return this.images[this.currentIndex]}static \u0275fac=function(n){return new(n||i)(r(f))};static \u0275cmp=c({type:i,selectors:[["app-play-page"]],hostBindings:function(n,t){n&1&&u("keydown",function(v){return t.handleKey(v)},!1,o)},decls:2,vars:3,consts:[[1,"image-container"],["alt","Current Image",3,"src"]],template:function(n,t){n&1&&(p(0,"div",0),l(1,"img",1),d()),n&2&&(m("transitioning",t.transitioning),a(),g("src",t.images[t.currentIndex],s))},dependencies:[h],styles:[".image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:#000}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:70vw;max-height:70vh;object-fit:contain;border-radius:12px;transition:opacity .3s ease;opacity:1}.image-container.transitioning[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:0}"]})};export{y as PlayPageComponent};
